function _slicedToArray(e,i){return _arrayWithHoles(e)||_iterableToArrayLimit(e,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,i){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],n=!0,r=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(t.push(l.value),!i||t.length!==i);n=!0);}catch(o){r=!0,a=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}function _possibleConstructorReturn(e,i){return!i||"object"!=typeof i&&"function"!=typeof i?_assertThisInitialized(e):i}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),i&&_setPrototypeOf(e,i)}function _setPrototypeOf(e,i){return(_setPrototypeOf=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e})(e,i)}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{rxot:function(e,i,t){"use strict";t.r(i);var n=t("PCNd"),r=t("tyNb"),a=t("itXk"),l=t("1G5W"),c=t("dJ3e"),o=t("vH0B"),s=t("fXoL"),u=t("ofXK");function b(e,i){if(1&e){var t=s.Nb();s.Mb(0,"li"),s.Mb(1,"a",4),s.Mb(2,"span",5),s.ic(3),s.Lb(),s.ic(4),s.Lb(),s.Mb(5,"button",6),s.Ub("click",(function(){s.ec(t);var e=i.$implicit;return s.Wb().delete(e)})),s.ic(6," x "),s.Lb(),s.Lb()}if(2&e){var n=i.$implicit;s.zb(1),s.ac("routerLink","/villains/",n.id,""),s.zb(2),s.jc(n.id),s.zb(1),s.kc(" ",n.name," "),s.zb(1),s.Zb("disabled",n.disabled)}}var f,p=((f=function(e){function i(e,t){var n;return _classCallCheck(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this))).heroService=e,n.villainService=t,n}return _inherits(i,e),_createClass(i,[{key:"ngOnInit",value:function(){var e=this;Object(a.a)([this.villainService.getVillains(),this.heroService.getHeroes()]).pipe(Object(l.a)(this.unsubscribe)).subscribe((function(i){var t=_slicedToArray(i,2),n=t[0],r=t[1];e.villains=n.map((function(e){var i=r.filter((function(i){return i.nemesis===e.id}));return Object.assign(Object.assign({},e),i.length>0?{disabled:!0}:{disabled:!1})}))}))}},{key:"getVillains",value:function(){var e=this;this.villainService.getVillains().pipe(Object(l.a)(this.unsubscribe)).subscribe((function(i){return e.villains=i}))}},{key:"add",value:function(e){var i=this;(e=e.trim())&&this.villainService.addVillain({name:e}).pipe(Object(l.a)(this.unsubscribe)).subscribe((function(e){i.villains.push(e)}))}},{key:"delete",value:function(e){this.villains=this.villains.filter((function(i){return i!==e})),this.villainService.deleteVillain(e).subscribe()}}]),i}(o.a)).\u0275fac=function(e){return new(e||f)(s.Jb(c.a),s.Jb(c.d))},f.\u0275cmp=s.Db({type:f,selectors:[["app-villains"]],features:[s.wb],decls:11,vars:1,consts:[["villainName",""],[3,"click"],[1,"villains"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"],["title","delete hero",1,"delete",3,"disabled","click"]],template:function(e,i){if(1&e){var t=s.Nb();s.Mb(0,"h2"),s.ic(1,"My Villains"),s.Lb(),s.Mb(2,"div"),s.Mb(3,"label"),s.ic(4,"Villain name: "),s.Kb(5,"input",null,0),s.Lb(),s.Mb(7,"button",1),s.Ub("click",(function(){s.ec(t);var e=s.dc(6);return i.add(e.value),e.value=""})),s.ic(8," add "),s.Lb(),s.Lb(),s.Mb(9,"ul",2),s.hc(10,b,7,4,"li",3),s.Lb()}2&e&&(s.zb(10),s.Zb("ngForOf",i.villains))},directives:[u.i,r.b],encapsulation:2}),f);t("TwVa");var v=t("3Pt+");function d(e,i){if(1&e){var t=s.Nb();s.Mb(0,"div"),s.Mb(1,"h2"),s.ic(2),s.Xb(3,"uppercase"),s.Lb(),s.Mb(4,"div"),s.Mb(5,"span"),s.ic(6,"id: "),s.Lb(),s.ic(7),s.Lb(),s.Mb(8,"div"),s.Mb(9,"label"),s.ic(10,"name: "),s.Mb(11,"input",1),s.Ub("ngModelChange",(function(e){return s.ec(t),s.Wb().villain.name=e})),s.Lb(),s.Lb(),s.Lb(),s.Mb(12,"button",2),s.Ub("click",(function(){return s.ec(t),s.Wb().goBack()})),s.ic(13,"go back"),s.Lb(),s.Mb(14,"button",2),s.Ub("click",(function(){return s.ec(t),s.Wb().save()})),s.ic(15,"save"),s.Lb(),s.Lb()}if(2&e){var n=s.Wb();s.zb(2),s.kc("",s.Yb(3,3,n.villain.name)," Details"),s.zb(5),s.jc(n.villain.id),s.zb(4),s.Zb("ngModel",n.villain.name)}}var h,y,g=[{path:"",component:p},{path:":id",component:(h=function(e){function i(e,t,n){var r;return _classCallCheck(this,i),(r=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this))).route=e,r.villainService=t,r.location=n,r}return _inherits(i,e),_createClass(i,[{key:"ngOnInit",value:function(){this.getVillain()}},{key:"getVillain",value:function(){var e=this,i=+this.route.snapshot.paramMap.get("id");this.villainService.getVillain(i).pipe(Object(l.a)(this.unsubscribe)).subscribe((function(i){return e.villain=i}))}},{key:"goBack",value:function(){this.location.back()}},{key:"save",value:function(){var e=this;this.villainService.updateVillain(this.villain).pipe(Object(l.a)(this.unsubscribe)).subscribe((function(){return e.goBack()}))}}]),i}(o.a),h.\u0275fac=function(e){return new(e||h)(s.Jb(r.a),s.Jb(c.d),s.Jb(u.g))},h.\u0275cmp=s.Db({type:h,selectors:[["app-villain-detail"]],inputs:{villain:"villain"},features:[s.wb],decls:1,vars:1,consts:[[4,"ngIf"],["placeholder","name","required","",3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,i){1&e&&s.hc(0,d,16,5,"div",0),2&e&&s.Zb("ngIf",i.villain)},directives:[u.j,v.a,v.f,v.c,v.d],pipes:[u.n],encapsulation:2}),h)}],_=((y=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:y}),y.\u0275inj=s.Gb({factory:function(e){return new(e||y)},imports:[[r.c.forChild(g)],r.c]}),y);t.d(i,"VillainsModule",(function(){return k}));var m,k=((m=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:m}),m.\u0275inj=s.Gb({factory:function(e){return new(e||m)},imports:[[n.a,_]]}),m)}}]);