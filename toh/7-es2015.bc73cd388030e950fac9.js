(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Q4b0:function(e,i,n){"use strict";n.r(i);var o=n("PCNd"),t=n("tyNb"),r=n("1G5W"),s=n("dJ3e"),c=n("vH0B"),b=n("fXoL"),a=n("ofXK");function u(e,i){if(1&e){const e=b.Nb();b.Mb(0,"li"),b.Mb(1,"a",4),b.Mb(2,"span",5),b.ic(3),b.Lb(),b.ic(4),b.Lb(),b.Mb(5,"button",6),b.Ub("click",(function(){b.ec(e);const n=i.$implicit;return b.Wb().delete(n)})),b.ic(6,"x "),b.Lb(),b.Lb()}if(2&e){const e=i.$implicit;b.zb(1),b.ac("routerLink","/heroes/",e.id,""),b.zb(2),b.jc(e.id),b.zb(1),b.kc(" ",e.name," ")}}let h=(()=>{class e extends c.a{constructor(e){super(),this.heroService=e}ngOnInit(){this.getHeroes()}getHeroes(){this.heroService.getHeroes().pipe(Object(r.a)(this.unsubscribe)).subscribe(e=>this.heroes=e)}add(e){(e=e.trim())&&this.heroService.addHero({name:e,superpowers:[]}).pipe(Object(r.a)(this.unsubscribe)).subscribe(e=>{this.heroes.push(e)})}delete(e){this.heroes=this.heroes.filter(i=>i!==e),this.heroService.deleteHero(e).subscribe()}}return e.\u0275fac=function(i){return new(i||e)(b.Jb(s.a))},e.\u0275cmp=b.Db({type:e,selectors:[["app-heroes"]],features:[b.wb],decls:11,vars:1,consts:[["heroName",""],[3,"click"],[1,"heroes"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"],["title","delete hero",1,"delete",3,"click"]],template:function(e,i){if(1&e){const e=b.Nb();b.Mb(0,"h2"),b.ic(1,"My Heroes"),b.Lb(),b.Mb(2,"div"),b.Mb(3,"label"),b.ic(4,"Hero name: "),b.Kb(5,"input",null,0),b.Lb(),b.Mb(7,"button",1),b.Ub("click",(function(){b.ec(e);const n=b.dc(6);return i.add(n.value),n.value=""})),b.ic(8," add "),b.Lb(),b.Lb(),b.Mb(9,"ul",2),b.hc(10,u,7,3,"li",3),b.Lb()}2&e&&(b.zb(10),b.Zb("ngForOf",i.heroes))},directives:[a.i,t.b],encapsulation:2}),e})();var l=n("itXk"),p=(n("TwVa"),n("LA7X")),d=n("3Pt+");function f(e,i){if(1&e&&(b.Mb(0,"option",9),b.ic(1),b.Lb()),2&e){const e=i.$implicit;b.Zb("value",e.id),b.zb(1),b.kc(" ",e.name," ")}}function g(e,i){if(1&e&&(b.Mb(0,"li"),b.ic(1),b.Lb()),2&e){const e=i.$implicit;b.zb(1),b.jc(e.name)}}function M(e,i){if(1&e&&(b.Mb(0,"option",9),b.ic(1),b.Lb()),2&e){const e=i.$implicit;b.Zb("value",e.id),b.zb(1),b.jc(e.name)}}function v(e,i){if(1&e){const e=b.Nb();b.Mb(0,"div"),b.Mb(1,"h2"),b.ic(2),b.Xb(3,"uppercase"),b.Lb(),b.Mb(4,"div"),b.Mb(5,"span"),b.ic(6,"id: "),b.Lb(),b.ic(7),b.Lb(),b.Mb(8,"div"),b.Mb(9,"label"),b.ic(10,"name: "),b.Mb(11,"input",1),b.Ub("ngModelChange",(function(i){return b.ec(e),b.Wb().hero.name=i})),b.Lb(),b.Lb(),b.Lb(),b.Mb(12,"div"),b.Mb(13,"label"),b.ic(14,"nemesis: "),b.Mb(15,"select",2),b.Ub("ngModelChange",(function(i){return b.ec(e),b.Wb().hero.nemesis=i}))("ngModelChange",(function(i){return b.ec(e),b.Wb().onChangeSelection(i)})),b.Mb(16,"option",3),b.ic(17,"None"),b.Lb(),b.hc(18,f,2,2,"option",4),b.Lb(),b.Lb(),b.Lb(),b.Mb(19,"div"),b.Mb(20,"label"),b.ic(21,"superpowers"),b.Lb(),b.Mb(22,"ul"),b.hc(23,g,2,1,"li",5),b.Lb(),b.Lb(),b.Mb(24,"div"),b.Mb(25,"span"),b.ic(26,"Give this hero a superpower"),b.Lb(),b.Mb(27,"select",6),b.Ub("ngModelChange",(function(i){return b.ec(e),b.Wb().heroSuperpower=i})),b.Kb(28,"option",7),b.hc(29,M,2,2,"option",4),b.Lb(),b.Lb(),b.Mb(30,"button",8),b.Ub("click",(function(){return b.ec(e),b.Wb().goBack()})),b.ic(31,"go back"),b.Lb(),b.Mb(32,"button",8),b.Ub("click",(function(){return b.ec(e),b.Wb().save()})),b.ic(33,"save"),b.Lb(),b.Lb()}if(2&e){const e=b.Wb();b.zb(2),b.kc("",b.Yb(3,8,e.hero.name)," Details"),b.zb(5),b.jc(e.hero.id),b.zb(4),b.Zb("ngModel",e.hero.name),b.zb(4),b.Zb("ngModel",e.hero.nemesis),b.zb(3),b.Zb("ngForOf",e.villains),b.zb(5),b.Zb("ngForOf",e.hero.superpowers),b.zb(4),b.Zb("ngModel",e.heroSuperpower),b.zb(2),b.Zb("ngForOf",e.superpowers)}}const m=[{path:"",component:h},{path:":id",component:(()=>{class e extends c.a{constructor(e,i,n,o,t){super(),this.route=e,this.heroService=i,this.villainService=n,this.superpowersService=o,this.location=t}ngOnInit(){const e=+this.route.snapshot.paramMap.get("id");Object(l.a)([this.heroService.getHero(e),this.villainService.getVillains(),this.superpowersService.getSuperpowers()]).pipe(Object(r.a)(this.unsubscribe)).subscribe(([e,i,n])=>{this.hero=e,this.villains=i,this.superpowers=n})}goBack(){this.location.back()}save(){if(this.heroSuperpower){const e=this.superpowers.find(e=>e.id==this.heroSuperpower);this.hero.superpowers.push(e)}this.heroService.updateHero(this.hero).pipe(Object(r.a)(this.unsubscribe)).subscribe(()=>this.goBack())}onChangeSelection(e){this.hero.nemesis=Number(e)}}return e.\u0275fac=function(i){return new(i||e)(b.Jb(t.a),b.Jb(s.a),b.Jb(s.d),b.Jb(p.a),b.Jb(a.g))},e.\u0275cmp=b.Db({type:e,selectors:[["app-hero-detail"]],inputs:{hero:"hero"},features:[b.wb],decls:1,vars:1,consts:[[4,"ngIf"],["placeholder","name",3,"ngModel","ngModelChange"],["id","nemesis",1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["id","add-superpower",3,"ngModel","ngModelChange"],["value",""],[3,"click"],[3,"value"]],template:function(e,i){1&e&&b.hc(0,v,34,10,"div",0),2&e&&b.Zb("ngIf",i.hero)},directives:[a.j,d.a,d.c,d.d,d.g,d.e,d.h,a.i],pipes:[a.n],encapsulation:2}),e})()}];let L=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(i){return new(i||e)},imports:[[t.c.forChild(m)],t.c]}),e})();n.d(i,"HeroesModule",(function(){return w}));let w=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(i){return new(i||e)},imports:[[o.a,L]]}),e})()}}]);