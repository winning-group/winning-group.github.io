function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(a){i=!0,o=a}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Q4b0:function(e,t,r){"use strict";r.r(t);var n=r("PCNd"),i=r("tyNb"),o=r("1G5W"),c=r("dJ3e"),s=r("vH0B"),a=r("fXoL"),b=r("ofXK");function u(e,t){if(1&e){var r=a.Nb();a.Mb(0,"li"),a.Mb(1,"a",4),a.Mb(2,"span",5),a.ic(3),a.Lb(),a.ic(4),a.Lb(),a.Mb(5,"button",6),a.Ub("click",(function(){a.ec(r);var e=t.$implicit;return a.Wb().delete(e)})),a.ic(6,"x "),a.Lb(),a.Lb()}if(2&e){var n=t.$implicit;a.zb(1),a.ac("routerLink","/heroes/",n.id,""),a.zb(2),a.jc(n.id),a.zb(1),a.kc(" ",n.name," ")}}var l,p=((l=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).heroService=e,r}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.getHeroes()}},{key:"getHeroes",value:function(){var e=this;this.heroService.getHeroes().pipe(Object(o.a)(this.unsubscribe)).subscribe((function(t){return e.heroes=t}))}},{key:"add",value:function(e){var t=this;(e=e.trim())&&this.heroService.addHero({name:e,superpowers:[]}).pipe(Object(o.a)(this.unsubscribe)).subscribe((function(e){t.heroes.push(e)}))}},{key:"delete",value:function(e){this.heroes=this.heroes.filter((function(t){return t!==e})),this.heroService.deleteHero(e).subscribe()}}]),t}(s.a)).\u0275fac=function(e){return new(e||l)(a.Jb(c.a))},l.\u0275cmp=a.Db({type:l,selectors:[["app-heroes"]],features:[a.wb],decls:11,vars:1,consts:[["heroName",""],[3,"click"],[1,"heroes"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"],["title","delete hero",1,"delete",3,"click"]],template:function(e,t){if(1&e){var r=a.Nb();a.Mb(0,"h2"),a.ic(1,"My Heroes"),a.Lb(),a.Mb(2,"div"),a.Mb(3,"label"),a.ic(4,"Hero name: "),a.Kb(5,"input",null,0),a.Lb(),a.Mb(7,"button",1),a.Ub("click",(function(){a.ec(r);var e=a.dc(6);return t.add(e.value),e.value=""})),a.ic(8," add "),a.Lb(),a.Lb(),a.Mb(9,"ul",2),a.hc(10,u,7,3,"li",3),a.Lb()}2&e&&(a.zb(10),a.Zb("ngForOf",t.heroes))},directives:[b.i,i.b],encapsulation:2}),l),f=r("itXk"),h=(r("TwVa"),r("LA7X")),d=r("3Pt+");function v(e,t){if(1&e&&(a.Mb(0,"option",9),a.ic(1),a.Lb()),2&e){var r=t.$implicit;a.Zb("value",r.id),a.zb(1),a.kc(" ",r.name," ")}}function g(e,t){if(1&e&&(a.Mb(0,"li"),a.ic(1),a.Lb()),2&e){var r=t.$implicit;a.zb(1),a.jc(r.name)}}function y(e,t){if(1&e&&(a.Mb(0,"option",9),a.ic(1),a.Lb()),2&e){var r=t.$implicit;a.Zb("value",r.id),a.zb(1),a.jc(r.name)}}function M(e,t){if(1&e){var r=a.Nb();a.Mb(0,"div"),a.Mb(1,"h2"),a.ic(2),a.Xb(3,"uppercase"),a.Lb(),a.Mb(4,"div"),a.Mb(5,"span"),a.ic(6,"id: "),a.Lb(),a.ic(7),a.Lb(),a.Mb(8,"div"),a.Mb(9,"label"),a.ic(10,"name: "),a.Mb(11,"input",1),a.Ub("ngModelChange",(function(e){return a.ec(r),a.Wb().hero.name=e})),a.Lb(),a.Lb(),a.Lb(),a.Mb(12,"div"),a.Mb(13,"label"),a.ic(14,"nemesis: "),a.Mb(15,"select",2),a.Ub("ngModelChange",(function(e){return a.ec(r),a.Wb().hero.nemesis=e}))("ngModelChange",(function(e){return a.ec(r),a.Wb().onChangeSelection(e)})),a.Mb(16,"option",3),a.ic(17,"None"),a.Lb(),a.hc(18,v,2,2,"option",4),a.Lb(),a.Lb(),a.Lb(),a.Mb(19,"div"),a.Mb(20,"label"),a.ic(21,"superpowers"),a.Lb(),a.Mb(22,"ul"),a.hc(23,g,2,1,"li",5),a.Lb(),a.Lb(),a.Mb(24,"div"),a.Mb(25,"span"),a.ic(26,"Give this hero a superpower"),a.Lb(),a.Mb(27,"select",6),a.Ub("ngModelChange",(function(e){return a.ec(r),a.Wb().heroSuperpower=e})),a.Kb(28,"option",7),a.hc(29,y,2,2,"option",4),a.Lb(),a.Lb(),a.Mb(30,"button",8),a.Ub("click",(function(){return a.ec(r),a.Wb().goBack()})),a.ic(31,"go back"),a.Lb(),a.Mb(32,"button",8),a.Ub("click",(function(){return a.ec(r),a.Wb().save()})),a.ic(33,"save"),a.Lb(),a.Lb()}if(2&e){var n=a.Wb();a.zb(2),a.kc("",a.Yb(3,8,n.hero.name)," Details"),a.zb(5),a.jc(n.hero.id),a.zb(4),a.Zb("ngModel",n.hero.name),a.zb(4),a.Zb("ngModel",n.hero.nemesis),a.zb(3),a.Zb("ngForOf",n.villains),a.zb(5),a.Zb("ngForOf",n.hero.superpowers),a.zb(4),a.Zb("ngModel",n.heroSuperpower),a.zb(2),a.Zb("ngForOf",n.superpowers)}}var m,_,w=[{path:"",component:p},{path:":id",component:(m=function(e){function t(e,r,n,i,o){var c;return _classCallCheck(this,t),(c=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).route=e,c.heroService=r,c.villainService=n,c.superpowersService=i,c.location=o,c}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){var e=this,t=+this.route.snapshot.paramMap.get("id");Object(f.a)([this.heroService.getHero(t),this.villainService.getVillains(),this.superpowersService.getSuperpowers()]).pipe(Object(o.a)(this.unsubscribe)).subscribe((function(t){var r=_slicedToArray(t,3),n=r[0],i=r[1],o=r[2];e.hero=n,e.villains=i,e.superpowers=o}))}},{key:"goBack",value:function(){this.location.back()}},{key:"save",value:function(){var e=this;if(this.heroSuperpower){var t=this.superpowers.find((function(t){return t.id==e.heroSuperpower}));this.hero.superpowers.push(t)}this.heroService.updateHero(this.hero).pipe(Object(o.a)(this.unsubscribe)).subscribe((function(){return e.goBack()}))}},{key:"onChangeSelection",value:function(e){this.hero.nemesis=Number(e)}}]),t}(s.a),m.\u0275fac=function(e){return new(e||m)(a.Jb(i.a),a.Jb(c.a),a.Jb(c.d),a.Jb(h.a),a.Jb(b.g))},m.\u0275cmp=a.Db({type:m,selectors:[["app-hero-detail"]],inputs:{hero:"hero"},features:[a.wb],decls:1,vars:1,consts:[[4,"ngIf"],["placeholder","name",3,"ngModel","ngModelChange"],["id","nemesis",1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["id","add-superpower",3,"ngModel","ngModelChange"],["value",""],[3,"click"],[3,"value"]],template:function(e,t){1&e&&a.hc(0,M,34,10,"div",0),2&e&&a.Zb("ngIf",t.hero)},directives:[b.j,d.a,d.c,d.d,d.g,d.e,d.h,b.i],pipes:[b.n],encapsulation:2}),m)}],L=((_=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:_}),_.\u0275inj=a.Gb({factory:function(e){return new(e||_)},imports:[[i.c.forChild(w)],i.c]}),_);r.d(t,"HeroesModule",(function(){return O}));var k,O=((k=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:k}),k.\u0275inj=a.Gb({factory:function(e){return new(e||k)},imports:[[n.a,L]]}),k)}}]);