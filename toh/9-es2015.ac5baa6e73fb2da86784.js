(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{rxot:function(i,e,n){"use strict";n.r(e);var t=n("PCNd"),l=n("tyNb"),s=n("itXk"),c=n("1G5W"),a=n("dJ3e"),b=n("vH0B"),r=n("fXoL"),o=n("ofXK");function u(i,e){if(1&i){const i=r.Nb();r.Mb(0,"li"),r.Mb(1,"a",4),r.Mb(2,"span",5),r.ic(3),r.Lb(),r.ic(4),r.Lb(),r.Mb(5,"button",6),r.Ub("click",(function(){r.ec(i);const n=e.$implicit;return r.Wb().delete(n)})),r.ic(6," x "),r.Lb(),r.Lb()}if(2&i){const i=e.$implicit;r.zb(1),r.ac("routerLink","/villains/",i.id,""),r.zb(2),r.jc(i.id),r.zb(1),r.kc(" ",i.name," "),r.zb(1),r.Zb("disabled",i.disabled)}}let d=(()=>{class i extends b.a{constructor(i,e){super(),this.heroService=i,this.villainService=e}ngOnInit(){Object(s.a)([this.villainService.getVillains(),this.heroService.getHeroes()]).pipe(Object(c.a)(this.unsubscribe)).subscribe(([i,e])=>{this.villains=i.map(i=>{const n=e.filter(e=>e.nemesis===i.id);return Object.assign(Object.assign({},i),n.length>0?{disabled:!0}:{disabled:!1})})})}getVillains(){this.villainService.getVillains().pipe(Object(c.a)(this.unsubscribe)).subscribe(i=>this.villains=i)}add(i){(i=i.trim())&&this.villainService.addVillain({name:i}).pipe(Object(c.a)(this.unsubscribe)).subscribe(i=>{this.villains.push(i)})}delete(i){this.villains=this.villains.filter(e=>e!==i),this.villainService.deleteVillain(i).subscribe()}}return i.\u0275fac=function(e){return new(e||i)(r.Jb(a.a),r.Jb(a.d))},i.\u0275cmp=r.Db({type:i,selectors:[["app-villains"]],features:[r.wb],decls:11,vars:1,consts:[["villainName",""],[3,"click"],[1,"villains"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"],["title","delete hero",1,"delete",3,"disabled","click"]],template:function(i,e){if(1&i){const i=r.Nb();r.Mb(0,"h2"),r.ic(1,"My Villains"),r.Lb(),r.Mb(2,"div"),r.Mb(3,"label"),r.ic(4,"Villain name: "),r.Kb(5,"input",null,0),r.Lb(),r.Mb(7,"button",1),r.Ub("click",(function(){r.ec(i);const n=r.dc(6);return e.add(n.value),n.value=""})),r.ic(8," add "),r.Lb(),r.Lb(),r.Mb(9,"ul",2),r.hc(10,u,7,4,"li",3),r.Lb()}2&i&&(r.zb(10),r.Zb("ngForOf",e.villains))},directives:[o.i,l.b],encapsulation:2}),i})();n("TwVa");var p=n("3Pt+");function v(i,e){if(1&i){const i=r.Nb();r.Mb(0,"div"),r.Mb(1,"h2"),r.ic(2),r.Xb(3,"uppercase"),r.Lb(),r.Mb(4,"div"),r.Mb(5,"span"),r.ic(6,"id: "),r.Lb(),r.ic(7),r.Lb(),r.Mb(8,"div"),r.Mb(9,"label"),r.ic(10,"name: "),r.Mb(11,"input",1),r.Ub("ngModelChange",(function(e){return r.ec(i),r.Wb().villain.name=e})),r.Lb(),r.Lb(),r.Lb(),r.Mb(12,"button",2),r.Ub("click",(function(){return r.ec(i),r.Wb().goBack()})),r.ic(13,"go back"),r.Lb(),r.Mb(14,"button",2),r.Ub("click",(function(){return r.ec(i),r.Wb().save()})),r.ic(15,"save"),r.Lb(),r.Lb()}if(2&i){const i=r.Wb();r.zb(2),r.kc("",r.Yb(3,3,i.villain.name)," Details"),r.zb(5),r.jc(i.villain.id),r.zb(4),r.Zb("ngModel",i.villain.name)}}const h=[{path:"",component:d},{path:":id",component:(()=>{class i extends b.a{constructor(i,e,n){super(),this.route=i,this.villainService=e,this.location=n}ngOnInit(){this.getVillain()}getVillain(){const i=+this.route.snapshot.paramMap.get("id");this.villainService.getVillain(i).pipe(Object(c.a)(this.unsubscribe)).subscribe(i=>this.villain=i)}goBack(){this.location.back()}save(){this.villainService.updateVillain(this.villain).pipe(Object(c.a)(this.unsubscribe)).subscribe(()=>this.goBack())}}return i.\u0275fac=function(e){return new(e||i)(r.Jb(l.a),r.Jb(a.d),r.Jb(o.g))},i.\u0275cmp=r.Db({type:i,selectors:[["app-villain-detail"]],inputs:{villain:"villain"},features:[r.wb],decls:1,vars:1,consts:[[4,"ngIf"],["placeholder","name","required","",3,"ngModel","ngModelChange"],[3,"click"]],template:function(i,e){1&i&&r.hc(0,v,16,5,"div",0),2&i&&r.Zb("ngIf",e.villain)},directives:[o.j,p.a,p.f,p.c,p.d],pipes:[o.n],encapsulation:2}),i})()}];let f=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(e){return new(e||i)},imports:[[l.c.forChild(h)],l.c]}),i})();n.d(e,"VillainsModule",(function(){return g}));let g=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(e){return new(e||i)},imports:[[t.a,f]]}),i})()}}]);